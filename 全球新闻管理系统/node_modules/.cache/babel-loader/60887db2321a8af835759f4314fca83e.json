{"ast":null,"code":"// import React, { useEffect,useState } from 'react'\n// import { Layout, Menu } from 'antd';\n// import './index.css'\n// import { useNavigate } from \"react-router\";\n// import axios from 'axios';\n// import {\n//   UserOutlined,\n//   VideoCameraOutlined,\n//   UploadOutlined,\n//   SettingOutlined,\n//   HomeOutlined,\n//   CrownOutlined,\n// } from '@ant-design/icons'; //导航栏图标\n// const { Sider } = Layout; //ES6 解构\n// const { SubMenu } = Menu;\n// //模拟数组结构\n// // const menuList = [\n// //   {\n// //     key: \"/home\",\n// //     title: \"首页\",\n// //     icon: <HomeOutlined />,\n// //   },\n// //   {\n// //     key: \"/user-manage\",\n// //     title: \"用户管理\",\n// //     icon: <UserOutlined />,\n// //     children: [\n// //       {\n// //         key: \"/user-manage/list\",\n// //         title: \"用户列表\",\n// //         icon: <UserOutlined />,\n// //       },\n// //     ],\n// //   },\n// //   {\n// //     key: \"/right-manage\",\n// //     title: \"权限管理\",\n// //     icon: <CrownOutlined />,\n// //     children: [\n// //       {\n// //         key: \"/right-manage/role/list\",\n// //         title: \"角色列表\",\n// //         icon: <CrownOutlined />,\n// //       },\n// //       {\n// //         key: \"/right-manage/right/list\",\n// //         title: \"权限列表\",\n// //         icon: <CrownOutlined />,\n// //       },\n// //     ],\n// //   },\n// // ];\n// const iconList = {\n//   \"/home\":<UserOutlined/>,\n//   \"/user-manage\":<HomeOutlined />,\n//   \"/right-manage\":<SettingOutlined />,\n//   \"/news-manage\":< VideoCameraOutlined/>,\n//   \"/audit-manage\":<UploadOutlined/>,\n//   \"/publish-manage\":<CrownOutlined />,\n// }\n// export default function SideMenu({ collapsed }) {\n//     const [menu, setmenu] = useState([]);\n//   useEffect(()=>{ //封装了一个axios 传了一个空数组[]\n//     axios.get(\"http://localhost:4000/rights?_embed=children\").then(res=>{\n//       console.log(res.data);\n//       setmenu(res.data) \n//     })\n//   },[])\n//   let navigate = useNavigate();\n//   const checkpagepermission = (item)=>{\n//     return item.pagepermission===1\n//   }\n//   const renderMenu = (menuList) => {\n//     return menuList.map((item) => {\n//       if (item.children && checkpagepermission(item)) {\n//         return (\n//           <SubMenu key={item.key} icon={iconList[item.key]} title={item.title}>\n//             {renderMenu(item.children)}  {/* 这是一个函数递归 */}\n//           </SubMenu>\n//         );\n//       }\n//       return  checkpagepermission(item) &&(\n//         <Menu.Item key={item.key} icon={item.icon} onClick={() => {\n//           navigate(item.key)\n//         }}> {item.title} </Menu.Item>\n//       );\n//     });\n//   };\n//   return (\n//     <Sider trigger={null} collapsible collapsed={collapsed}>\n//       <div className=\"logo\" >新闻发布管理系统</div>\n//       <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n//         {renderMenu(menu)}\n//       </Menu>\n//     </Sider>\n//   );\n// }","map":{"version":3,"sources":["/Users/anxiaojie/Documents/全球新闻管理系统/src/components/sandbox/SideMenu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React, { useEffect,useState } from 'react'\n// import { Layout, Menu } from 'antd';\n// import './index.css'\n// import { useNavigate } from \"react-router\";\n// import axios from 'axios';\n// import {\n//   UserOutlined,\n//   VideoCameraOutlined,\n//   UploadOutlined,\n//   SettingOutlined,\n//   HomeOutlined,\n//   CrownOutlined,\n// } from '@ant-design/icons'; //导航栏图标\n\n// const { Sider } = Layout; //ES6 解构\n// const { SubMenu } = Menu;\n\n// //模拟数组结构\n// // const menuList = [\n// //   {\n// //     key: \"/home\",\n// //     title: \"首页\",\n// //     icon: <HomeOutlined />,\n// //   },\n// //   {\n// //     key: \"/user-manage\",\n// //     title: \"用户管理\",\n// //     icon: <UserOutlined />,\n// //     children: [\n// //       {\n// //         key: \"/user-manage/list\",\n// //         title: \"用户列表\",\n// //         icon: <UserOutlined />,\n// //       },\n// //     ],\n// //   },\n// //   {\n// //     key: \"/right-manage\",\n// //     title: \"权限管理\",\n// //     icon: <CrownOutlined />,\n// //     children: [\n// //       {\n// //         key: \"/right-manage/role/list\",\n// //         title: \"角色列表\",\n// //         icon: <CrownOutlined />,\n// //       },\n// //       {\n// //         key: \"/right-manage/right/list\",\n// //         title: \"权限列表\",\n// //         icon: <CrownOutlined />,\n// //       },\n// //     ],\n// //   },\n// // ];\n\n// const iconList = {\n//   \"/home\":<UserOutlined/>,\n//   \"/user-manage\":<HomeOutlined />,\n//   \"/right-manage\":<SettingOutlined />,\n//   \"/news-manage\":< VideoCameraOutlined/>,\n//   \"/audit-manage\":<UploadOutlined/>,\n//   \"/publish-manage\":<CrownOutlined />,\n// }\n\n// export default function SideMenu({ collapsed }) {\n\n//     const [menu, setmenu] = useState([]);\n\n//   useEffect(()=>{ //封装了一个axios 传了一个空数组[]\n//     axios.get(\"http://localhost:4000/rights?_embed=children\").then(res=>{\n//       console.log(res.data);\n//       setmenu(res.data) \n//     })\n//   },[])\n\n//   let navigate = useNavigate();\n\n//   const checkpagepermission = (item)=>{\n//     return item.pagepermission===1\n//   }\n\n//   const renderMenu = (menuList) => {\n//     return menuList.map((item) => {\n//       if (item.children && checkpagepermission(item)) {\n//         return (\n//           <SubMenu key={item.key} icon={iconList[item.key]} title={item.title}>\n//             {renderMenu(item.children)}  {/* 这是一个函数递归 */}\n//           </SubMenu>\n//         );\n//       }\n//       return  checkpagepermission(item) &&(\n//         <Menu.Item key={item.key} icon={item.icon} onClick={() => {\n//           navigate(item.key)\n//         }}> {item.title} </Menu.Item>\n//       );\n//     });\n//   };\n\n//   return (\n//     <Sider trigger={null} collapsible collapsed={collapsed}>\n//       <div className=\"logo\" >新闻发布管理系统</div>\n//       <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n//         {renderMenu(menu)}\n//       </Menu>\n//     </Sider>\n//   );\n// }\n"]},"metadata":{},"sourceType":"module"}